<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>数组、对象</title>
</head>
<body>

<script src="1_数组扁平化.js" charset="utf-8"></script>
<script src="2_数组去重.js" charset="utf-8"></script>
<script src="3_深拷贝.js" charset="utf-8"></script>
<script type="text/javascript" charset="utf-8">
/*扁平化测试用例*/
const arr1 = [1, 2, [[3, 5], 123], 3, [4, [5, [6, 7, [8, [10]]]]]]
console.log(flatten(arr1))
console.log(flatDeep(arr1, 2))
console.log(flatDeep(arr1, 3))
console.log(flatDeep(arr1, Infinity))
console.log(flatDeep(arr1, 0))

/*数组去重测试用例*/
const arr2 = [1, 3, 2, 3, 4, [5], 6, [5], 5, 4, 5, 3, 2, 2, 1, 1, 1, 3, 2]

console.log(unique(arr2))

/*深拷贝测试用例*/
const map = new Map();
map.set('key', 'value');
map.set('ConardLi', 'code秘密花园');

const set = new Set();
set.add('ConardLi');
set.add('code秘密花园');

const target = {
  field1: 1,
  field2: undefined,
  field3: {
    child: 'child'
  },
  field4: [2, 4, 8],
  empty: null,
  map,
  set,
  bool: new Boolean(true),
  num: new Number(2),
  str: new String(2),
  date: new Date(),
  reg: /\d+/,
  error: new Error(),
  func1: () => {
    console.log('code秘密花园');
  },
  func2: function (a, b) {
    return a + b;
  }
}
target.target = target;
const obj = deepClone(target)
obj.field4[1] = 'abc'
console.log(target)
console.log(obj)

</script>
</body>
</html>
