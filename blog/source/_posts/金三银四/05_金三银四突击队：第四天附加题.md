---
title: "金三银四突击队：第四天附加题"
date: 2021-02-26 08:38:59
tags:
  - 面试
  - 金三银四
---

<!--banner-pic|sticker|content-img|content-img-half-->

### 第一题

> 说一下React Hooks在平时开发中需要注意的问题和原因?

1. 不要在循环、条件判断、嵌套的函数中条用hook，必须始终在react函数的顶层使用hook。因为react需要利用调用顺序来正确更新相应的状态，以及调用相应的钩子函数，一旦在循环、条件分支中调用hook，容易导致调用顺序不一致，产生难以预料的后果。
2. 使用useState时，使用push、pop等直接更改数组无法获取到新的值。
3. useState设置装填时，只有第一次生效，后期需要更新状态，必须通过useEffect。
4. useContext可以让隔代组件间通信，但是不应滥用，最好基于useContext进行封装，形成统一的状态管理工具。

### 第二题

> React 的 setState 方法是异步还是同步？

setState本身是同步的方法，因为考虑多次调用渲染机制影响性能，所以react将多次的setState合并执行，形成异步的状态。

如果想要获得更新状态后的值，可以在setState第二个参数中传入一个回调函数来获取。

公布的答案：

### 1.

- beforeCreate:这个时期，this变量还不能使用，在data下的数据，和methods下的方法，watcher中的事件都不能获得到。
- created这个时候可以操作vue实例中的数据和各种方法，但是还不能对"dom"节点进行操作。
- beforeMounted：在挂载开始之前被调用：相关的 render 函数首次被调用
- mounted：挂载完毕，这时dom节点被渲染到文档内，一些需要dom的操作在此时才能正常进行
- beforeUpdate：data中数据已经更新完毕，页面视图还未响应更改
- updated：数据和视图都更新完毕
- beforeDestroy：销毁之前，实例上事件、指令等都可以使用，这里组件没有真正的销毁。
- destroyed：数据、指令、等完全销毁

### 2.

computed是计算属性，依赖其他属性计算值，并且computed的值有缓存，只有当计算值变化才会返回内容。
watch监听到值的变化就会执行回调，在回调中可以进行一些逻辑操作。
